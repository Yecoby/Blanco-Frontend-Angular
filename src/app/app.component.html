<!-- Top Navbar for User -->
<nav *ngIf="account?.role === Role.Staff" class="navbar navbar-expand navbar-dark bg-dark px-3 fixed-top">
    <div class="navbar-nav w-100">
        <a routerLink="/" routerLinkActive="active" [routerLinkActiveOptions]="{exact: true}" class="nav-item nav-link">Home</a>
        <a routerLink="/profile" routerLinkActive="active" class="nav-item nav-link">Profile</a>
        <a routerLink="/order" routerLinkActive="active" class="nav-item nav-link">order</a>
        <a routerLink="/product" routerLinkActive="active" class="nav-item nav-link">product</a>
        <a routerLink="/inventory" routerLinkActive="active" class="nav-item nav-link">inventory</a>
        <!-- Display Branch Information if available -->
        <div class="navbar-nav ms-auto">
            <button (click)="logout()" class="btn btn-link nav-item nav-link">Logout</button>
        </div>
    </div>
</nav>

<!-- Top Navbar for User -->
<nav *ngIf="account?.role === Role.User" class="navbar navbar-expand navbar-dark bg-dark px-3 fixed-top">
    <div class="navbar-nav w-100">
        <a routerLink="/" routerLinkActive="active" [routerLinkActiveOptions]="{exact: true}" class="nav-item nav-link">Home</a>
        <a routerLink="/profile" routerLinkActive="active" class="nav-item nav-link">Profile</a>
        <a routerLink="/order" routerLinkActive="active" class="nav-item nav-link">order</a>
        <a routerLink="/product" routerLinkActive="active" class="nav-item nav-link">product</a>
    </div>

    <!-- Logout Button on the right -->
    <div class="navbar-nav ms-auto">
        <button (click)="logout()" class="btn btn-link nav-item nav-link">Logout</button>
    </div>
</nav>

<div class="app-container d-flex" [ngClass]="{ 'bg-light': account }" [ngStyle]="{ 'padding-top': account?.role === Role.User || account?.role === Role.Staff ? '56px' : '0' }">
    <!-- Sidebar for Admin -->
    <nav *ngIf="account?.role === Role.Admin" 
         class="navbar navbar-expand-lg navbar-dark bg-dark flex-column p-3"
         style="position: fixed; top: 0; left: 0; width: 200px; height: 100vh; z-index: 1000;">
        <div class="navbar-nav flex-column w-100 h-100">
            <a routerLink="/" routerLinkActive="active" [routerLinkActiveOptions]="{exact: true}" class="nav-item nav-link">Home</a>
            <a routerLink="/profile" routerLinkActive="active" class="nav-item nav-link">Profile</a>
            <a routerLink="/branch" routerLinkActive="active" class="nav-item nav-link">branch</a>
            <a routerLink="/order" routerLinkActive="active" class="nav-item nav-link">order</a>
            <a routerLink="/product" routerLinkActive="active" class="nav-item nav-link">product</a>
            <a routerLink="/inventory" routerLinkActive="active" class="nav-item nav-link">inventory</a>
            <a routerLink="/admin" routerLinkActive="active" class="nav-item nav-link">Admin</a>
            
            <!-- Display Branch Information if available -->
         
            <!-- Push logout button to the bottom -->
            <div class="mt-auto">
                <button (click)="logout()" class="btn btn-link nav-item nav-link">Logout</button>
            </div>
        </div>
    </nav>

    <!-- Main content area -->
    <div class="flex-grow-1" [ngStyle]="{ 'margin-left': account?.role === Role.Admin ? '200px' : '0' }">
        <!-- subnav router outlet -->
        <router-outlet name="subnav"></router-outlet>

        <!-- global alert -->
        <alert></alert>

        <!-- main router outlet -->
        <router-outlet></router-outlet>
    </div>
</div>
